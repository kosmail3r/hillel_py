{% extends "main.html" %}

{% block side-menu %}
    <li><a href="{% url 'post_list' %}">Blog's posts</a></li>
    {% if request.user.is_authenticated %}
        <li><a href="{% url 'post_create' %}">Create new post</a></li>
        <li class="active"><a href="{% url 'user_detail' request.user.id %}">Profile</a></li>
        <li><a href="{% url 'logout' %}">Log-out</a></li>
    {% else %}
        <li><a href="{% url 'registration' %}">Registration</a></li>
        <li><a href="{% url 'login' %}">Login</a></li>
    {% endif %}
{% endblock %}

{% block content %}
<h2>User info: </h2>
<h5>Username: {{ obj.username }}</h5>
{% if obj.first_name and obj.last_name %}
<h5>First name: {{ obj.first_name }}</h5>
<h5>Last name: {{ obj.last_name }}</h5>
{% endif %}
<h5>Email: {{ obj.email }}</h5>
<hr>
<h2>User's posts:</h2>
<ul>
{% for post in page_obj %}
    <li><h4>Title: <a href="{% url 'post_detail' post.slug %}">{{ post.title }}</a> </h4></li>
    <h5>Short description: {{ post.short_description }} </h5>
    {% if self_posts %}
    <a href="{% url 'post_delete' post.id %}"> <button class="btn btn-xs btn-danger">Delete post</button></a>
    {% endif %}
{% empty %}
    <li>No posts yet.</li>
{% endfor %}
</ul>

{% endblock %}